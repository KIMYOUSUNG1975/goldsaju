<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë‹¬ë¹›ì²œì‚¬ì˜ìš´ëª…ë…¸íŠ¸</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; line-height: 1.8; padding: 20px; }
    h1 { font-size: 2em; }
    label { font-weight: bold; margin-right: 10px; }
    input, select { margin: 5px 0 15px 0; padding: 5px; font-size: 1em; }
    .section-title {
      font-size: 1.2em;
      margin-top: 20px;
      padding-bottom: 5px;
      border-bottom: 2px solid #ccc;
      color: #5a2a83;
    }
  </style>
</head>
<body>
  <h1>ğŸŒ™ ë‹¬ë¹›ì²œì‚¬ì˜ìš´ëª…ë…¸íŠ¸</h1>

  <label for="birthdate">ìƒë…„ì›”ì¼</label>
  <select id="year"></select>
  <select id="month"></select>
  <select id="day"></select>
  <br>

  <label for="birthtime">íƒœì–´ë‚œ ì‹œê°„</label>
  <input type="text" id="birthtime" placeholder="ì˜ˆ: ì˜¤ì „ 2ì‹œ">
  <br>

  <label for="gender">ì„±ë³„</label>
  <select id="gender">
    <option value="female">ì—¬ì</option>
    <option value="male">ë‚¨ì</option>
  </select>

  <p id="ageDisplay" style="font-weight:bold; margin-top:10px;">í˜„ì¬ ë‚˜ì´: -ì„¸</p>

  <button onclick="showResult()">ğŸ”® ì‚¬ì£¼í’€ì´ ë³´ê¸°</button>

  <div id="result" style="margin-top: 30px;"></div>

  <script>
    function calculateAge(returnValueOnly = false) {
      const year = parseInt(document.getElementById("year").value);
      const month = parseInt(document.getElementById("month").value);
      const day = parseInt(document.getElementById("day").value);
      const today = new Date();
      let age = today.getFullYear() - year;
      if (
        today.getMonth() + 1 < month ||
        (today.getMonth() + 1 === month && today.getDate() < day)
      ) {
        age--;
      }
      if (!returnValueOnly) {
        document.getElementById("ageDisplay").innerText = `í˜„ì¬ ë‚˜ì´: ${age}ì„¸`;
      }
      return age;
    }

    function getElementByDay(birthdate) {
      const date = new Date(birthdate);
      const day = date.getDate();
      const elements = ["ëª©(æœ¨)", "í™”(ç«)", "í† (åœŸ)", "ê¸ˆ(é‡‘)", "ìˆ˜(æ°´)"];
      return elements[day % 5];
    }

    function showResult() {
      const age = calculateAge(true);
      const year = document.getElementById("year").value;
      const month = document.getElementById("month").value.padStart(2, '0');
      const day = document.getElementById("day").value.padStart(2, '0');
      const birthdate = `${year}-${month}-${day}`;
      const element = getElementByDay(birthdate);
      let resultHTML = `<div class="section-title">ğŸ§¿ ì˜¤ëŠ˜ì˜ ê¸°ìš´</div><p>ê³„ì‚°ëœ ì˜¤í–‰: ${element}</p>`;

      if (["ëª©(æœ¨)", "í™”(ç«)", "í† (åœŸ)", "ê¸ˆ(é‡‘)", "ìˆ˜(æ°´)"].includes(element)) {
        resultHTML += `<div class="section-title">ğŸ’° ì¬ë¬¼ìš´</div><p>ê¸°íšŒë¥¼ ì˜ ì‚´í´ë³´ê³  ë¬´ë¦¬í•˜ì§€ ë§ê³  ì¡°ê¸ˆì”© ì¤€ë¹„í•´ë´.</p>
                       <div class="section-title">âš ï¸ ì¡°ì‹¬í•  ì </div><p>ê°ì • ì•ì„¸ìš°ì§€ ë§ê³  ì‹ ì¤‘í•˜ê²Œ ìƒê°í•˜ì.</p>
                       <div class="section-title">âœ… í•´ì•¼ í•  ì¼</div><p>í•˜ê³  ì‹¶ì€ ì¼, ì²œì²œíˆë¼ë„ ìš©ê¸° ë‚´ì„œ ì‹œì‘í•´ë´.</p>
                       <div class="section-title">ğŸ©º ê±´ê°•ìš´</div><p>ìš”ì¦˜ ëª¸ ì‹ í˜¸ ì˜ ì‚´í´ë´. ë¬´ë¦¬í•˜ì§€ ë§ê³  ì‰¬ì.</p>`;
      } else {
        resultHTML += `<div class="section-title">ğŸ’¡ ì•ˆë‚´</div><p>ì˜¤í–‰ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´, ì‚¬ì£¼í’€ì´ê°€ ì œê³µë˜ì§€ ì•Šì•˜ì–´. ìƒë…„ì›”ì¼ì„ ë‹¤ì‹œ í™•ì¸í•´ì¤˜!</p>`;
      }

      document.getElementById("result").innerHTML = resultHTML;
    }

    // ì—°ë„/ì›”/ì¼ ë“œë¡­ë‹¤ìš´ ì´ˆê¸°í™”
    window.onload = function () {
      const yearSelect = document.getElementById("year");
      for (let y = 1900; y <= 2025; y++) {
        const opt = document.createElement("option");
        opt.value = y;
        opt.textContent = y + "ë…„";
        if (y === 2025) opt.selected = true;
        yearSelect.appendChild(opt);
      }

      const monthSelect = document.getElementById("month");
      for (let m = 1; m <= 12; m++) {
        const opt = document.createElement("option");
        opt.value = m;
        opt.textContent = m + "ì›”";
        monthSelect.appendChild(opt);
      }

      const daySelect = document.getElementById("day");
      for (let d = 1; d <= 31; d++) {
        const opt = document.createElement("option");
        opt.value = d;
        opt.textContent = d + "ì¼";
        daySelect.appendChild(opt);
      }
    };
  </script>
</body>
</html>
